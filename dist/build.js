(()=>{var rt=Object.create;var te=Object.defineProperty;var st=Object.getOwnPropertyDescriptor;var at=Object.getOwnPropertyNames;var lt=Object.getPrototypeOf,ut=Object.prototype.hasOwnProperty;var ct=e=>te(e,"__esModule",{value:!0});var E=(e,t)=>()=>(e&&(t=e(e=0)),t);var L=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dt=(e,t,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of at(t))!ut.call(e,o)&&o!=="default"&&te(e,o,{get:()=>t[o],enumerable:!(n=st(t,o))||n.enumerable});return e},ne=e=>dt(ct(te(e!=null?rt(lt(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);function _(e,t,{walkable:n=null,ignore:o=[],limit:s=100}={}){let l=0;function m(a,c,{walkable:d=null,ignore:f=[]}={}){if(l+=1,l>s)return null;if(typeof c=="string"){if(a.hasOwnProperty(c))return a[c]}else if(c(a))return a;if(a){if(Array.isArray(a))for(let h of a){let O=m(h,c,{walkable:d,ignore:f});if(O)return O}else if(typeof a=="object")for(let h of Object.keys(a)){if(d!=null&&!d.includes(h)||f.includes(h))continue;let O=m(a[h],c,{walkable:d,ignore:f});if(O)return O}}}return m(e,t,{walkable:n,ignore:o})}var ge=E(()=>{r()});function oe(e,t,n){console[n]("%cCumcord%c",`background-color: ${t}; color: white; border-radius: 4px; padding: 0px 6px 0px 6px; font-weight: bold`,"",...e)}var ft,w,he=E(()=>{r();ft={log:(...e)=>{oe(e,"#7289da","log")},error:(...e)=>{oe(e,"red","error")},warn:(...e)=>{oe(e,"red","warn")}},w=ft});function ye(e,t){return _(e,t,{walkable:["props","children","child","sibling"]})}var J=E(()=>{r();ge();he()});function mt(){let e=window.webpackJsonp.push([[],{cum:(t,n,o)=>t.exports=o},[["cum"]]]);return e.m.cum=void 0,delete e.m.cum,e.c.cum=void 0,delete e.c.cum,e.c}function we(e,t){let n=[];for(let o in e)if(e.hasOwnProperty(o)){let s=e[o].exports;s&&(s.default&&s.__esModule&&t(s.default)&&n.push(s.default),t(s)&&n.push(s))}return n}var p,Zt,en,x,tn,nn,T,on,rn,u,C=E(()=>{r();J();p={modules:mt(),find:e=>we(p.modules,e)[0],findAll:e=>we(p.modules,e),findByProps:(...e)=>p.find(t=>e.every(n=>t[n]!==void 0)),findByPropsAll:(...e)=>p.findAll(t=>e.every(n=>t[n]!==void 0)),findByPrototypes:(...e)=>p.find(t=>t.prototype&&e.every(n=>t.prototype[n]!==void 0)),findByDisplayName:e=>p.find(t=>t.displayName===e),findByStrings:(...e)=>p.find(t=>{if(typeof t=="function"){if(e.every(n=>t.toString().includes(n)))return!0}else return _(t,n=>{if(n){for(let o of Object.values(n))if(typeof o=="function"&&e.every(s=>o.toString().includes(s)))return!0}})}),findByKeywordAll:(...e)=>p.findAll(t=>e.every(n=>Object.keys(t).some(o=>o.toLowerCase().includes(n.toLowerCase()))==!0))},Zt=p.find,en=p.findAll,x=p.findByProps,tn=p.findByPropsAll,nn=p.findByPrototypes,T=p.findByDisplayName,on=p.findByStrings,rn=p.findByKeywordAll,u=p});var b,i,ie,ln,un,cn,dn,fn,mn,Ce,ve,N=E(()=>{r();C();b={constants:u.findByProps("API_HOST","APP_URL_PREFIX"),channels:u.findByProps("getChannelId","getVoiceChannelId"),Flux:u.findByProps("CachedStore","Store","connectStores"),FluxDispatcher:u.findByProps("_currentDispatchActionType","_subscriptions","_waitQueue"),i18n:u.findByProps("Messages","_requestedLocale"),React:u.findByProps("__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","createElement"),ReactDOM:u.findByProps("__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","hydrate"),Redux:u.findByProps("createStore","__DO_NOT_USE__ActionTypes"),zustand:u.find(e=>{if(typeof e=="function"&&e.toString().includes("[useStore, api] = create() is deprecated and will be removed in v4"))return e})},i=b.React,ie=b.ReactDOM,ln=b.Flux,un=b.FluxDispatcher,cn=b.Redux,dn=b.constants,fn=b.channels,mn=b.i18n,Ce=b.zustand,ve=b});var r=E(()=>{N()});var se=L(re=>{r();"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.default=Object.freeze({GET:"GET",SET:"SET",DEL:"DEL",UPDATE:"UPDATE"})});var Me=L(z=>{r();"use strict";var pt=z&&z.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(z,"__esModule",{value:!0});var be=pt(se()),xe=class{constructor(){this.listeners=Object.values(be.default).reduce((t,n)=>(t[n]=new Set,t),{}),this.on=function(t,n){if(this.listeners[t].has(n))throw Error(`This listener on ${t} already exists.`);this.listeners[t].add(n)},this.once=function(t,n){let o=(s,l)=>{this.off(s,o),n(s,l)};this.on(t,o)},this.off=function(t,n){this.listeners[t].delete(n)},this.emit=function(t,n){for(let o of this.listeners[t])o(t,n)};for(let t of Object.values(be.default))this[t.toLowerCase()]=n=>{this.emit(t,n)}}};z.default=xe});var Se=L(U=>{r();"use strict";var gt=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U,"__esModule",{value:!0});var ht=gt(Me());function yt(e,{nestArrays:t=!0}={}){let n=new ht.default;function o(s,l=e,m=[]){return new Proxy(s,{get(a,c){let d=[...m,c],f=a[c];return f!=null?(n.get({path:d,value:f}),!t&&Array.isArray(f)?f:typeof f=="object"?o(f,l,d):f):o(a[c]={},l,d)},set(a,c,d){return a[c]=d,n.set({path:[...m,c],value:d}),!0},deleteProperty(a,c){return delete a[c]?(n.del({path:[...m,c]}),!0):!1},has(a,c){return typeof a[c]=="object"&&Object.keys(a[c]).length===0?!1:c in a}})}return Object.assign({store:o(e),ghost:e},n)}U.default=yt});var H=L(M=>{r();"use strict";var Pe=M&&M.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(M,"__esModule",{value:!0});M.make=M.Events=void 0;var wt=se();Object.defineProperty(M,"Events",{enumerable:!0,get:function(){return Pe(wt).default}});var Ct=Se();Object.defineProperty(M,"make",{enumerable:!0,get:function(){return Pe(Ct).default}})});r();r();C();N();r();var ke=ne(H());r();r();function vt(){if(!(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent))||!indexedDB.databases)return Promise.resolve();let t;return new Promise(n=>{let o=()=>indexedDB.databases().finally(n);t=setInterval(o,100),o()}).finally(()=>clearInterval(t))}var Oe=vt;function ae(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function bt(e,t){let n=Oe().then(()=>{let o=indexedDB.open(e);return o.onupgradeneeded=()=>o.result.createObjectStore(t),ae(o)});return(o,s)=>n.then(l=>s(l.transaction(t,o).objectStore(t)))}var le;function _e(){return le||(le=bt("keyval-store","keyval")),le}function B(e,t=_e()){return t("readonly",n=>ae(n.get(e)))}function S(e,t,n=_e()){return n("readwrite",o=>(o.put(t,e),ae(o.transaction)))}var De={nests:ke.default,idbKeyval:{get:B,set:S}};r();C();r();C();var Ee=u.findByProps("v4").v4,v=[];function j(e){let t=document.createElement("style");return t.className="CUMCORD_INJECTED_CSS",t.textContent=e,document.head.appendChild(t),()=>{t.remove()}}function Te(){for(let e of document.querySelectorAll(".CUMCORD_INJECTED_CSS"))e.remove()}function ue(e,t,n,o){if(!(o=="before"||o=="instead"||o=="after"))throw new Error("Go fuck yourself.");if(typeof t[e]!="function")throw new Error(`${e} is not a function in ${t.constructor.name}`);if(Object.hasOwnProperty.bind(t)("CUMCORD_INJECTIONS")||(t.CUMCORD_INJECTIONS={}),!t.CUMCORD_INJECTIONS.hasOwnProperty(e)){let m=Ee();t.CUMCORD_INJECTIONS[e]=m}let s=t.CUMCORD_INJECTIONS[e];if(!v[s]){let m=t[e];v[s]={originalFunction:m,functionParent:t,functionName:e,hooks:{before:{},instead:{},after:{}}},t[e]=function(...a){return xt(s,a,this)}}let l=Ee();return v[s].hooks[o][l]=n,()=>Be(s,l,o)}function xt(e,t,n){let o=v[e],s=o.hooks,l=t;for(let d in s.before){let h=s.before[d].call(n,l);Array.isArray(h)&&(l=h)}let m,a=Object.values(s.instead),c=(...d)=>o.originalFunction.call(n,...d);if(a.length>0){let d=f=>a[0].call(n,f,c);for(let f of a.slice(1)){let h=d;d=O=>f.call(n,O,h)}m=d(l)}else m=c(...l);for(let d in s.after){let h=s.after[d].call(n,l,m);typeof h!="undefined"&&(m=h)}return m}function Ne(e,t,n){return ue(e,t,n,"before")}function $(e,t,n){return ue(e,t,n,"instead")}function K(e,t,n){return ue(e,t,n,"after")}function Be(e,t,n){let o=v[e];if(o){let s=o.hooks;if(s[n][t])return delete s[n][t],o.functionParent.CUMCORD_INJECTIONS[o.functionName]=void 0,delete o.functionParent.CUMCORD_INJECTIONS[o.functionName],Object.keys(s).every(m=>Object.values(s[m]).length==0)&&(o.functionParent[o.functionName]=o.originalFunction,delete o.functionParent.CUMCORD_INJECTIONS,v[e]=void 0,delete v[e]),!0}return!1}function je(){for(let e in v)for(let t of Object.keys(v[e].hooks)){if(!v[e])return;let n=v[e].hooks[t];for(let o in n)Be(e,o,t)}}r();C();r();C();r();C();var G=x("ModalCloseButton"),Ie=T("Header"),Ae=T("Flex"),{openModal:Mt}=x("openModal");function ze(e,t){Mt(n=>i.createElement(G.ModalRoot,{transitionState:n.transitionState,size:"medium"},i.createElement(G.ModalHeader,{separator:!1},i.createElement(Ae.Child,{basis:"auto",grow:1,shrink:1,wrap:!1},i.createElement(Ie,{tag:"h2",size:Ie.Sizes.SIZE_20},e)),i.createElement(Ae.Child,{basis:"auto",grow:0,shrink:1,wrap:!1},i.createElement(G.ModalCloseButton,{onClick:n.onClose}))),i.createElement(G.ModalContent,null,t)))}r();r();var R=ne(H());async function Ue(e){let t=await B(`${e}_CUMCORD_STORE`)||{},n=R.make(t),o=()=>S(`${e}_CUMCORD_STORE`,{...n.ghost});return n.on(R.Events.SET,o),n.on(R.Events.DEL,o),n}var St=eval,V={cache:"no-store"},Re="https://cors.bridged.cc/",y={},g={};function Fe(){for(let e of Object.keys(g))try{Y(e)}catch{}}function I(e){return g[e]}function W(e,t){g[e]=t,S("CumcordCache",g)}async function q(e){let t=I(e);if(!t)throw new Error(`Plugin ${e} not found`);if(y[e])throw new Error(`Plugin ${e} already loaded`);let n=St(t.js),o=n;typeof n=="function"&&(o=n({persist:await Ue(e),id:e})),y[e]=o;try{o.onLoad&&o.onLoad()}catch{}}function Y(e){if(!I(e))throw new Error(`Plugin ${e} not found`);let n=y[e];if(n)n.onUnload(),y[e]=void 0,delete y[e];else throw new Error(`Plugin ${e} not loaded`)}function Q(e){try{Y(e)}catch{}g[e]=void 0,delete g[e],S("CumcordCache",g)}async function Le(){let e=await B("CumcordCache");y={},e?g=e:(await S("CumcordCache",{}),g={});for(let t of Object.keys(g))k(t)}function Pt(e){let t=I(e);y[e]&&Y(e),q(e),t.enabled||(t.enabled=!0,W(e,t))}function Ot(e){let t=I(e);y[e]&&Y(e),t.enabled&&(t.enabled=!1,W(e,t))}function X(e){I(e).enabled?Ot(e):Pt(e)}async function k(e){let t=e.replace(/\/?$/,"/"),n=new URL("plugin.json",t),o=new URL("plugin.js",t),s=!0,l=I(t),m=!1,a,c;try{a=await fetch(n,V)}catch{m=!0,a=await fetch(Re+n,V)}if(a.status!=200&&!l)throw new Error("Plugin manifest not returning success");try{c=await a.json()}catch{if(!l)throw new Error("Plugin manifest cannot be parsed")}if(l)if(s=l.enabled,c){if(l.manifest.hash==c.hash&&(l.manifest!=c&&(l.manifest=c,W(t,l)),s)){q(t);return}}else{s&&q(t);return}let d;if(m?d=await await fetch(Re+o,V):d=await await fetch(o,V),d.status!=200)throw new Error("Plugin not returning success");let f=await d.text();W(t,{manifest:c,js:f,enabled:s}),s&&q(t)}var _t=i.useState,kt=u.findByDisplayName("Card"),Dt=u.findByDisplayName("Header"),Et=u.findByDisplayName("Text"),ce=u.findByDisplayName("Flex"),Tt=u.findByDisplayName("Markdown"),Nt=u.findByDisplayName("Switch"),Je=e=>{let t=g[e.pluginId],[n,o]=_t(t.enabled);return i.createElement(kt,{className:"cumcord-plugin-card",type:"cardPrimary",outline:!1,editable:!1},i.createElement(ce,{justify:ce.Justify.BETWEEN,align:ce.Align.CENTER},i.createElement("div",{className:"cumcord-card-header"},i.createElement(Dt,{className:"cumcord-card-title"},t.manifest.name),i.createElement(Et,{className:"cumcord-card-author",tag:"h5"}," ","by ",i.createElement("strong",null,t.manifest.author))),i.createElement("div",{className:"cumcord-card-right"},i.createElement("div",{className:"cumcord-card-buttons"},(()=>{if(n&&y[e.pluginId]&&y[e.pluginId].settings)return i.createElement("svg",{onClick:()=>{ze(t.manifest.name,y[e.pluginId].settings)},className:"cumcord-card-settings",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"},i.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.createElement("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}))})(),i.createElement("svg",{onClick:()=>{Q(e.pluginId),e.updatePlugins()},className:"cumcord-card-delete",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"},i.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),i.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}))),i.createElement(Nt,{checked:n,onChange:()=>{try{X(e.pluginId),o(t.enabled)}catch{}}}))),i.createElement(Tt,null,t.manifest.description))};var He=i.useState,Bt=u.findByDisplayName("FormTitle"),jt=u.findByDisplayName("FormSection"),It=u.findByDisplayName("Flex"),At=u.findByDisplayName("TextInput"),de=u.findByProps("Sizes","Colors","Looks","DropdownSizes"),zt=u.findByDisplayName("FormDivider"),$e=()=>{let[e,t]=He(""),[n,o]=He(Object.keys(g)),s=()=>{o(Object.keys(g))};return i.createElement(jt,null,i.createElement(Bt,{tag:"h1"},"Plugins"),i.createElement(It,{basis:"auto",grow:1,shrink:1},i.createElement(At,{className:"cumcord-plugin-import",placeholder:"https://example.com/plugin",type:"text",value:e,onChange:l=>t(l)}),i.createElement(de,{color:de.Colors.BRAND,size:de.Sizes.MEDIUM,onClick:()=>{t(""),k(e).then(()=>{s()})}},"Add plugin")),i.createElement(zt,{className:"cumcord-plugin-divider"}),n.map(l=>i.createElement(Je,{updatePlugins:s,pluginId:l})))};var Ke={initializeSettings:function(){j(".cumcord-plugin-card{padding:16px;margin-bottom:10px}.cumcord-plugin-import{flex-grow:1;margin-right:20px}.cumcord-plugin-divider{margin-top:20px;margin-bottom:20px}.cumcord-card-header{display:inline-block}.cumcord-card-author,.cumcord-card-title{display:inline}.cumcord-card-right{display:flex}.cumcord-card-buttons{display:flex;margin-right:4px}.cumcord-card-buttons>*{fill:var(--interactive-normal);cursor:pointer;width:20px}.cumcord-card-buttons>*:hover{fill:var(--interactive-hover)}");let e=u.findByDisplayName("SettingsView");K("getPredicateSections",e.prototype,(t,n)=>{let o=n.findIndex(l=>l.section=="changelog")-1;if(o<0)return n;let s=[{section:"DIVIDER"},{section:"HEADER",label:"Cumcord"},{section:"CUMCORD_PLUGINS",label:"Plugins",element:$e}];return n.splice(o,0,...s),n})}};J();r();C();r();r();J();var fe=ne(H()),Ut=eval,D=!1,P,Ge=fe.make({});function Ve(e){if(D){if(P){w.log("Unloading previous plugin version...");try{P.onUnload()}catch(t){w.error("Failed to unload:",t)}}pluginObject=Ut(e),P=pluginObject,typeof P=="function"&&(P=pluginObject({persist:Ge,id:"FAKE_PLUGIN_ID"})),w.log("Loading new plugin version...");try{P.onLoad&&P.onLoad()}catch(t){w.error("Failed to load:",t)}}}function We(){D=!D,D==!1&&(P=void 0,Ge=fe.make({})),w.log(`Dev mode is now ${D?"on":"off"}.`)}r();C();var Rt=x("openModal").openModal,me=x("button","colorRed"),Ft=T("ConfirmModal"),Lt=T("Markdown");async function Z({header:e="Are you sure?",confirmText:t="Confirm",cancelText:n="Cancel",content:o="Are you sure you want to do that?",type:s="neutral"}={},l=()=>{}){return new Promise(m=>{var a,c=!1;switch(s.toLowerCase()){case"danger":a=me.colorRed;break;case"confirm":a=me.colorGreen;break;default:a=me.colorBrandNew;break}function d(f){c||(c=!0,l(f),m(f))}Rt(f=>(f.transitionState===3&&d(!1),i.createElement(Ft,{header:e,confirmText:t,cancelText:n,transitionState:f.transitionState,confirmButtonColor:a,onClose:()=>{d(!1)},onCancel:()=>{d(!1),f.onClose()},onConfirm:()=>{d(!0),f.onClose()}},i.createElement(Lt,{editable:!1},o))))})}function pe(e,t){var n;try{n=JSON.parse(e)}catch{return}switch(n.action.toLowerCase()){case"get_info":t.send(JSON.stringify({name:"CUMCORD_WEBSOCKET",uuid:n.uuid||Math.random(),status:"OK"}));return;case"install_plugin":if(n.url){if(!n.url.match(/^(http|https):\/\/[^ "]+$/)){t.send(JSON.stringify({name:"CUMCORD_WEBSOCKET",uuid:n.uuid||Math.random(),status:"ERROR",error:"Invalid URL."}));return}DiscordNative.window.focus(),Z({header:"Do you want to install this plugin?",content:`Cumcord plugins can run code on your computer and can be potentially dangerous. Only click confirm if you trust the plugin from \`${n.url}\`.`,confirmText:"Install",cancelText:"Cancel",type:"danger"},o=>{if(o){k(n.url),t.send(JSON.stringify({name:"CUMCORD_WEBSOCKET",uuid:n.uuid||Math.random(),status:"OK"}));return}else{t.send(JSON.stringify({name:"CUMCORD_WEBSOCKET",uuid:n.uuid||Math.random(),status:"ERROR",error:"Plugin installation cancelled."}));return}})}else{t.send(JSON.stringify({uuid:n.uuid||Math.random(),status:"ERROR",error:"No URL provided."}));return}return;case"install_plugin_dev":D?n.code?(Ve(n.code),t.send(JSON.stringify({uuid:n.uuid||Math.random(),status:"OK"}))):t.send(JSON.stringify({uuid:n.uuid||Math.random(),status:"ERROR",message:"No code provided."})):t.send(JSON.stringify({uuid:n.uuid||Math.random(),status:"ERROR",message:"Dev mode not enabled."}));return;default:return}}var ee=[];function qe(){window.DiscordNative&&$("handleConnection",x("handleConnection").__proto__,(e,t)=>{let n=e[0];if(n.upgradeReq().url=="/cumcord")ee.push(n),n.on("message",o=>pe(o,n)),n.on("close",()=>{ee.splice(ee.indexOf(n),1)});else return t(...e)})}function Ye(){if(window.DiscordNative)for(let e of ee)e.close()}r();N();r();C();var Jt=u.findByDisplayName("Card"),Ht=u.findByDisplayName("Header"),so=u.findByDisplayName("Text"),ao=u.findByDisplayName("Markdown"),Qe=e=>i.createElement(Jt,{className:"cumcord-toast",type:"cardPrimary",outline:!1,editable:!1},i.createElement("div",{className:"cumcord-toast-header"},i.createElement(Ht,{className:"cumcord-toast-title"},e.children)));r();N();r();N();var A=Ce(e=>({toasts:[]}));function Xe(e){let t=A.getState();A.setState({toasts:[...t.toasts,e]})}function Ze(e){let t=A.getState(),n=t.toasts.indexOf(e);n>-1&&A.setState({toasts:t.toasts.filter((o,s)=>s!==n)})}var et=()=>{let e=A(t=>t.toasts);return i.createElement(i.Fragment,null,e)};var F=document.createElement("div");function tt(){j(".cumcord-toast-container{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;display:flex;flex-direction:column-reverse;align-items:flex-end;z-index:999999}.cumcord-toast{min-width:120px;min-height:50px;padding:5px;margin-right:10px;margin-bottom:10px;display:flex;justify-content:center;align-items:center;align-content:center;pointer-events:all}.cumcord-toast-title{font-size:30px;top:0;bottom:0;left:0;right:0}"),F.className="cumcord-toast-container",document.getElementById("app-mount").prepend(F),ie.render(i.createElement(et,null),F)}function nt(){ie.unmountComponentAtNode(F),F.remove()}function ot(e){let t=i.createElement(Qe,null,e.title);Xe(t);let n=()=>{Ze(t)},o=setTimeout(()=>{n(),clearTimeout(o)},e.duration);return n}function $t(){return Fe(),Ye(),je(),nt(),Te(),window.cumcord=void 0,delete window.cumcord,!0}async function Kt(){w.log("Initializing Cumcord API"),window.cumcord={uninject:$t,modules:{webpackModules:u,webpack:u,common:ve,internal:De},plugins:{importPlugin:k,removePlugin:Q,togglePlugin:X},patcher:{before:Ne,after:K,instead:$,injectCSS:j},ui:{toasts:{showToast:ot},modals:{showConfirmationModal:Z}},utils:{logger:w,findInTree:_,findInReactTree:ye},cum:()=>w.log("8==D ~~~~~~")},window.DiscordNative&&(window.cumcord.dev={toggleDevMode:We}),tt(),Le(),Ke.initializeSettings(),qe()}var it=Kt;if(window.cumcord)throw new Error("Cumcord is already injected");it();})();
